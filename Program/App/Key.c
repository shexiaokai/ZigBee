/**
  **********************************  CC2530  **********************************
  * @文件名     ： Key.c
  * @作者       ： 佘晓凯
  * @文件版本   ： V1.0.0
  * @日期       ： 2018年01月25日
  * @摘要       ： 按键部分
  ******************************************************************************/
/*----------------------------------------------------------------------------
  更新日志:
  2018-01-25 V1.0.0:按键中断框架
  ----------------------------------------------------------------------------*/

/* 包含的头文件 --------------------------------------------------------------*/
#include "Key.h"

/************************************************
函数名称 ： KeyInit
功    能 ： 按键IO口以及中断的初始化
参    数 ： 无
返 回 值 ： 无
作    者 ： 佘晓凯
摘    要 ： KEY1:P0_0	KEY2:P0_1
	
*************************************************/
void KeyInit(void)
{
  	P0IEN |= 0x01;		//P0_0开启中断
  	P0IE=1;				//P0口开启中断
  	EA=1;				//EA总中断开启

}

/************************************************
函数名称 ： P0Exit
功    能 ： P0口中断函数
参    数 ： 无
返 回 值 ： 无
作    者 ： 佘晓凯
摘    要 ： 要将PxIFG的对应位清零，将PxIF CPU中断标志位清零
	
*************************************************/
#pragma vector = P0INT_VECTOR
__interrupt void P0Exit(void)
{
  /*	long int i=60000;
  	LED1=~LED1;
	while(i--);*/
	
	P0IFG=0x00;		//对应引脚清零
	P0IF=0;			//对应端口清零
	
}
